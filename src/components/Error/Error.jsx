import { useEffect, useRef } from 'react'; // —Ö—É–∫–∏ React
import toast from 'react-hot-toast'; // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (toast).

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Error` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
const Error = () => {
  // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `useRef`, —â–æ–± –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å—Ç–∞–Ω –ø—Ä–æ —Ç–µ, —á–∏ –≤–∂–µ –±—É–ª–æ –ø–æ–∫–∞–∑–∞–Ω–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è. –ü–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è ‚Äî 'false'.
  // useRef –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ—Ä–µ–Ω–¥—Ä—É—î—Ç—å—Å—è.
  const hasToastShown = useRef(false);
  // –•—É–∫ `useEffect` —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –ø—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  useEffect(() => {
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤–∂–µ –ø–æ–∫–∞–∑–∞–Ω–æ
    if (!hasToastShown.current) {
      // 'if (!hasToastShown.current)' –∑–∞–ø–æ–±—ñ–≥–∞—î –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—é
      // –Ø–∫—â–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —â–µ –Ω–µ –±—É–ª–æ, –≤–∏–∫–ª–∏–∫–∞—î–º–æ `toast.error` –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É.
      toast.error('Something went wrong ü§¶‚Äç‚ôÇÔ∏è, try again...');
      // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è `true`, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∫–∞–∑—É —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è.
      hasToastShown.current = true;
    }
  }, []); // –ü–æ—Ä–æ–∂–Ω—ñ–π –º–∞—Å–∏–≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π - –µ—Ñ–µ–∫—Ç –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑

  return null; // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –∂–æ–¥–Ω–æ–≥–æ –≤–º—ñ—Å—Ç—É, –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ `null`.
};

export default Error;
