import { useEffect, useRef } from 'react'; // —Ö—É–∫–∏ React
import toast from 'react-hot-toast'; // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (toast).

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `NoResultsNotification` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
// –ü—Ä–æ–ø 'message' –¥–æ–∑–≤–æ–ª—è—î –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
// –Ø–∫—â–æ 'message' –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–æ - –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
const NoResultsNotification = ({ message }) => {
  // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `useRef`, —â–æ–± –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å—Ç–∞–Ω –ø—Ä–æ —Ç–µ, —á–∏ –≤–∂–µ –±—É–ª–æ –ø–æ–∫–∞–∑–∞–Ω–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è. –ü–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è ‚Äî 'false'.
  // useRef –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ—Ä–µ–Ω–¥—Ä—É—î—Ç—å—Å—è.
  const hasToastShown = useRef(false);

  // –•—É–∫ `useEffect` —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –ø—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  useEffect(() => {
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤–∂–µ –ø–æ–∫–∞–∑–∞–Ω–æ
    // 'if (!hasToastShown.current)' –∑–∞–ø–æ–±—ñ–≥–∞—î –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—é
    if (!hasToastShown.current) {
      toast.error(
        message || 'No results found. Please try a different query. ü§∑‚Äç‚ôÇÔ∏è'
      );
      hasToastShown.current = true;
    }
  }, [message]);

  return null;
};

export default NoResultsNotification;
